# é…ç½®æ–‡ä»¶è¯´æ˜

æœ¬ç›®å½•åŒ…å«äº†å‡ ä¸ªé¢„è®¾çš„æŒ–çŸ¿é…ç½®æ–‡ä»¶ï¼Œé€‚ç”¨äºä¸åŒçš„é£é™©åå¥½å’Œç­–ç•¥ã€‚

## ğŸ“ é¢„è®¾é…ç½®

### 1. `conservative.json` - ä¿å®ˆç­–ç•¥
é€‚åˆï¼šæ–°æ‰‹ã€é£é™©åŒæ¶è€…ã€å°èµ„é‡‘

**ç‰¹ç‚¹ï¼š**
- ç­–ç•¥ï¼šå›ºå®šé˜ˆå€¼ç®—æ³• (threshold = 0.008 SOL)
- éƒ¨ç½²é‡ï¼š0.01 SOL/æ ¼å­
- é€‰æ‹©ï¼š15 ä¸ªå€™é€‰ä¸­é€‰ 3 ä¸ª
- éƒ¨ç½²æ—¶æœºï¼šæå‰ 45 ç§’ï¼Œå‰©ä½™ 18 slots
- æ¯è½®æˆæœ¬ï¼š~0.03 SOL
- é¢„æœŸèƒœç‡ï¼š40-50%

**å‘½ä»¤ï¼š**
```bash
ore-test2-optimized run --config configs/conservative.json
```

---

### 2. `balanced.json` - å¹³è¡¡ç­–ç•¥
é€‚åˆï¼šæœ‰ç»éªŒçš„çŸ¿å·¥ã€ä¸­ç­‰èµ„é‡‘

**ç‰¹ç‚¹ï¼š**
- ç­–ç•¥ï¼šåŠ¨æ€ä¼˜åŒ–ç®—æ³•
- éƒ¨ç½²é‡ï¼š0.015 SOL/æ ¼å­
- é€‰æ‹©ï¼š12 ä¸ªå€™é€‰ä¸­é€‰ 5 ä¸ª
- éƒ¨ç½²æ—¶æœºï¼šæå‰ 40 ç§’ï¼Œå‰©ä½™ 15 slots
- æ¯è½®æˆæœ¬ï¼š~0.075 SOL
- é¢„æœŸèƒœç‡ï¼š50-60%

**å‘½ä»¤ï¼š**
```bash
ore-test2-optimized run --config configs/balanced.json
```

---

### 3. `aggressive.json` - æ¿€è¿›ç­–ç•¥
é€‚åˆï¼šé«˜çº§çŸ¿å·¥ã€å¤§èµ„é‡‘ã€é«˜æ€§èƒ½ç½‘ç»œ

**ç‰¹ç‚¹ï¼š**
- ç­–ç•¥ï¼šåŠ¨æ€ä¼˜åŒ–ç®—æ³•ï¼ˆæ›´æ¿€è¿›çš„ç³»æ•°ï¼‰
- éƒ¨ç½²é‡ï¼š0.02 SOL/æ ¼å­
- é€‰æ‹©ï¼š10 ä¸ªå€™é€‰ä¸­é€‰ 7 ä¸ª
- éƒ¨ç½²æ—¶æœºï¼šæå‰ 35 ç§’ï¼Œå‰©ä½™ 12 slots
- æ¯è½®æˆæœ¬ï¼š~0.14 SOL
- é¢„æœŸèƒœç‡ï¼š60-70%ï¼ˆéœ€è¦ä¼˜è´¨ RPCï¼‰

**å‘½ä»¤ï¼š**
```bash
ore-test2-optimized run --config configs/aggressive.json
```

---

### 4. `template.json` - é…ç½®æ¨¡æ¿
ç”¨äºåˆ›å»ºè‡ªå·±çš„è‡ªå®šä¹‰é…ç½®ã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
# å¤åˆ¶æ¨¡æ¿
cp configs/template.json configs/my-config.json

# ç¼–è¾‘é…ç½®
nano configs/my-config.json

# è¿è¡Œ
ore-test2-optimized run --config configs/my-config.json
```

---

## ğŸ“‹ é…ç½®æ–‡ä»¶ç»“æ„è¯¦è§£

### é€šç”¨é…ç½® (`common`)

```json
{
  "common": {
    "rpc": "RPCèŠ‚ç‚¹åœ°å€",
    "keypair": "ç§é’¥æ–‡ä»¶è·¯å¾„",
    "timing": {
      "start_before_seconds": 40.0,  // æå‰å¤šå°‘ç§’éƒ¨ç½²
      "remaining_slots": 15           // å‰©ä½™å¤šå°‘ slot æ—¶è§¦å‘
    }
  }
}
```

**å‚æ•°è¯´æ˜ï¼š**
- `rpc`: Solana RPC èŠ‚ç‚¹åœ°å€ï¼ˆæ¨èä½¿ç”¨ä»˜è´¹ RPC å¦‚ QuickNodeã€Heliusï¼‰
- `keypair`: ç§é’¥æ–‡ä»¶è·¯å¾„ï¼Œæ”¯æŒ `~` ç¬¦å·
- `start_before_seconds`: æ—¶é—´è§¦å‘æ¡ä»¶ï¼Œè½®æ¬¡ç»“æŸå‰å¤šå°‘ç§’å¼€å§‹éƒ¨ç½²
- `remaining_slots`: Slot è§¦å‘æ¡ä»¶ï¼Œå‰©ä½™å¤šå°‘ slot æ—¶è§¦å‘ï¼ˆä¼˜å…ˆçº§æ›´é«˜ï¼‰

---

### ç­–ç•¥é…ç½® (`strategy`)

#### å›ºå®šé˜ˆå€¼ç­–ç•¥ (`fixed_threshold`)

```json
{
  "strategy": {
    "type": "fixed_threshold",
    "threshold_sol": 0.01,      // å›ºå®šé˜ˆå€¼
    "amount_sol": 0.01,         // æ¯ä¸ªæ ¼å­çš„éƒ¨ç½²é‡
    "min_squares": 12,          // æœ€å°‘éœ€è¦å¤šå°‘ä¸ªå€™é€‰æ ¼å­
    "pick_squares": 5           // å®é™…é€‰æ‹©å¤šå°‘ä¸ªæ ¼å­
  }
}
```

**å·¥ä½œåŸç†ï¼š**
1. æ‰«æ 25 ä¸ªæ ¼å­
2. ç­›é€‰å‡ºéƒ¨ç½²é‡ < `threshold_sol` çš„æ ¼å­
3. å¦‚æœå€™é€‰æ ¼å­ >= `min_squares`ï¼Œåˆ™é€‰æ‹©æœ€ä½çš„ `pick_squares` ä¸ª
4. æ¯ä¸ªæ ¼å­éƒ¨ç½² `amount_sol` SOL

**é€‚ç”¨åœºæ™¯ï¼š**
- å¸‚åœºç«äº‰ç¨³å®šæ—¶
- å¸Œæœ›æ§åˆ¶æˆæœ¬æ—¶
- æ–°æ‰‹å…¥é—¨æ—¶

---

#### åŠ¨æ€ä¼˜åŒ–ç­–ç•¥ (`dynamic_optimized`)

```json
{
  "strategy": {
    "type": "dynamic_optimized",
    "amount_sol": 0.015,            // æ¯ä¸ªæ ¼å­çš„éƒ¨ç½²é‡
    "min_squares": 12,              // æœ€å°‘éœ€è¦å¤šå°‘ä¸ªå€™é€‰æ ¼å­
    "pick_squares": 5,              // å®é™…é€‰æ‹©å¤šå°‘ä¸ªæ ¼å­
    "dynamic_coefficient": 0.036,   // åŠ¨æ€ç³»æ•°
    "dynamic_offset": -0.005        // åŠ¨æ€åç§»
  }
}
```

**å·¥ä½œåŸç†ï¼š**
1. è®¡ç®—æ€»éƒ¨ç½²é‡ `total = Î£(æ‰€æœ‰æ ¼å­)`
2. åŠ¨æ€é˜ˆå€¼ = `total Ã— dynamic_coefficient + dynamic_offset`
3. ç­›é€‰å‡ºéƒ¨ç½²é‡ < åŠ¨æ€é˜ˆå€¼çš„æ ¼å­
4. å¦‚æœå€™é€‰æ ¼å­ >= `min_squares`ï¼Œåˆ™é€‰æ‹©æœ€ä½çš„ `pick_squares` ä¸ª
5. æ¯ä¸ªæ ¼å­éƒ¨ç½² `amount_sol` SOL

**åŠ¨æ€é˜ˆå€¼ç¤ºä¾‹ï¼š**
```
æ€»éƒ¨ç½² 10 SOL:  é˜ˆå€¼ = 10 Ã— 0.036 - 0.005 = 0.355 SOL
æ€»éƒ¨ç½² 30 SOL:  é˜ˆå€¼ = 30 Ã— 0.036 - 0.005 = 1.075 SOL
æ€»éƒ¨ç½² 100 SOL: é˜ˆå€¼ = 100 Ã— 0.036 - 0.005 = 3.595 SOL
```

**é€‚ç”¨åœºæ™¯ï¼š**
- å¸‚åœºç«äº‰å‰§çƒˆå˜åŒ–æ—¶
- å¸Œæœ›è‡ªé€‚åº”è°ƒæ•´æ—¶
- è¿½æ±‚æœ€å¤§åŒ–æ”¶ç›Šæ—¶

---

### é«˜çº§é…ç½® (`advanced`)

```json
{
  "advanced": {
    "compute_unit_price": 20000,   // Gas ä¼˜å…ˆè´¹ (lamports)
    "compute_unit_limit": 400000,  // Gas é™åˆ¶
    "jito_tip": 5000,              // Jito å°è´¹ (lamports)
    "enable_jito": true,           // æ˜¯å¦å¯ç”¨ Jito
    "max_retries": 4,              // æœ€å¤§é‡è¯•æ¬¡æ•°
    "log_level": "info"            // æ—¥å¿—çº§åˆ«
  }
}
```

**å‚æ•°è¯´æ˜ï¼š**
- `compute_unit_price`: ä¼˜å…ˆè´¹ï¼Œè¶Šé«˜è¶Šå®¹æ˜“ä¸Šé“¾ï¼ˆ1 lamport = 0.000000001 SOLï¼‰
- `compute_unit_limit`: è®¡ç®—å•å…ƒé™åˆ¶ï¼Œé€šå¸¸ 400000 è¶³å¤Ÿ
- `jito_tip`: ç»™ Jito éªŒè¯è€…çš„å°è´¹ï¼Œå¢åŠ ä¸Šé“¾æˆåŠŸç‡
- `enable_jito`: æ˜¯å¦å¯ç”¨ Jito Bundle æäº¤ï¼ˆåŒé€šé“æäº¤ï¼‰
- `max_retries`: äº¤æ˜“å¤±è´¥æ—¶çš„æœ€å¤§é‡è¯•æ¬¡æ•°
- `log_level`: æ—¥å¿—çº§åˆ« (`trace`, `debug`, `info`, `warn`, `error`)

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### 1. æ ¹æ®èµ„é‡‘é‡é€‰æ‹©ç­–ç•¥

| èµ„é‡‘é‡ | æ¨èé…ç½® | åŸå›  |
|--------|----------|------|
| < 1 SOL | Conservative | æ§åˆ¶é£é™©ï¼Œç¨³å®šæ”¶ç›Š |
| 1-10 SOL | Balanced | å¹³è¡¡æ”¶ç›Šå’Œé£é™© |
| > 10 SOL | Aggressive | æœ€å¤§åŒ–æ”¶ç›Š |

### 2. æ ¹æ®ç½‘ç»œçŠ¶å†µè°ƒæ•´

**ç½‘ç»œæ‹¥å µæ—¶ï¼š**
- å¢åŠ  `compute_unit_price` (30000-50000)
- å¢åŠ  `jito_tip` (10000-20000)
- å‡å°‘ `start_before_seconds` (30-35s)

**ç½‘ç»œç©ºé—²æ—¶ï¼š**
- ä½¿ç”¨é»˜è®¤ `compute_unit_price` (20000)
- ä½¿ç”¨é»˜è®¤ `jito_tip` (5000)

### 3. æ ¹æ®å¸‚åœºç«äº‰è°ƒæ•´

**ä½ç«äº‰ï¼ˆæ€»éƒ¨ç½² < 10 SOLï¼‰ï¼š**
- ä½¿ç”¨åŠ¨æ€ä¼˜åŒ–ç­–ç•¥
- å¢åŠ  `pick_squares` (7-10)
- å‡å°‘ `amount_sol` (0.005-0.01)

**é«˜ç«äº‰ï¼ˆæ€»éƒ¨ç½² > 50 SOLï¼‰ï¼š**
- ä½¿ç”¨å›ºå®šé˜ˆå€¼ç­–ç•¥
- å‡å°‘ `pick_squares` (3-5)
- ä¿æŒæˆ–å¢åŠ  `amount_sol` (0.01-0.02)

---

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

åˆ›å»ºè‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼š

```bash
# 1. å¤åˆ¶æ¨¡æ¿
cp configs/template.json configs/my-strategy.json

# 2. ç¼–è¾‘é…ç½®ï¼ˆWindowsï¼‰
notepad configs/my-strategy.json

# 3. ç¼–è¾‘é…ç½®ï¼ˆLinux/Macï¼‰
nano configs/my-strategy.json

# 4. æµ‹è¯•é…ç½®
ore-test2-optimized run --config configs/my-strategy.json
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# 1. ç¼–è¯‘ç¨‹åº
cargo build --release

# 2. ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ RPC å’Œ keypair è·¯å¾„
nano configs/balanced.json

# 3. è¿è¡Œ
./target/release/ore-test2-optimized run --config configs/balanced.json
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **RPC èŠ‚ç‚¹é€‰æ‹©**
   - å…è´¹ RPCï¼ˆå¦‚ `https://api.mainnet-beta.solana.com`ï¼‰æœ‰é€Ÿç‡é™åˆ¶
   - å»ºè®®ä½¿ç”¨ä»˜è´¹ RPCï¼ˆQuickNodeã€Heliusã€Tritonï¼‰
   - ä½å»¶è¿Ÿ RPC èƒ½æ˜¾è‘—æé«˜èƒœç‡

2. **ç§é’¥å®‰å…¨**
   - ç¡®ä¿ keypair æ–‡ä»¶æƒé™æ­£ç¡®ï¼š`chmod 600 ~/.config/solana/id.json`
   - ä¸è¦åœ¨å…¬å…±æœåŠ¡å™¨ä¸Šè¿è¡Œ
   - å®šæœŸæ£€æŸ¥è´¦æˆ·ä½™é¢

3. **Gas è´¹ç”¨**
   - é«˜ç«äº‰æ—¶æ®µéœ€è¦æ›´é«˜çš„ `compute_unit_price`
   - å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡åŠ¨æ€è®¾ç½®ï¼š`export COMPUTE_UNIT_PRICE=30000`

4. **ç›‘æ§å’Œè°ƒæ•´**
   - è§‚å¯Ÿæ—¥å¿—ä¸­çš„èƒœç‡
   - æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´å‚æ•°
   - è®°å½•æ¯è½®çš„æˆæœ¬å’Œæ”¶ç›Š

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

æŸ¥çœ‹ä¸» README æˆ–è¿è¡Œï¼š
```bash
ore-test2-optimized --help
ore-test2-optimized run --help
```
