# ORE Test2 Optimized ğŸš€

**åŸºäº ore_refined è®¾è®¡æ€è·¯ä¼˜åŒ–çš„ ORE æŒ–çŸ¿ç¨‹åº**

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ—ï¸ **æ¨¡å—åŒ–æ¶æ„** - 5 ä¸ªæ¸…æ™°æ¨¡å—æ›¿ä»£åŸ 1824 è¡Œå•æ–‡ä»¶
- ğŸ“Š **å®æ—¶ç›‘æ§ç³»ç»Ÿ** - å¼‚æ­¥æ›´æ–° Board/Clock/Miner/Round
- ğŸš€ **åŒæ¸ é“æäº¤** - RPC + Jito Bundle å¹¶è¡Œæäº¤ï¼Œæé«˜æˆåŠŸç‡
- ğŸ’° **ä»·æ ¼ç›‘æ§** - Jupiter API å®æ—¶è¿½è¸ª ORE å’Œ SOL ä»·æ ¼
- â° **æ™ºèƒ½æ—¶æœºæ§åˆ¶** - æ—¶é—´ + Slot åŒé‡ç²¾ç¡®æ§åˆ¶
- ğŸ›¡ï¸ **å¢å¼ºé”™è¯¯å¤„ç†** - æŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶
- ğŸ“ **ç»“æ„åŒ–æ—¥å¿—** - tracing æ¡†æ¶ï¼Œä¸“ä¸šæ—¥å¿—è¾“å‡º

## ğŸ¯ ä¼˜åŒ–äº®ç‚¹

ä¸åŸç‰ˆæœ¬å¯¹æ¯”ï¼š

| æ–¹é¢ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|------|--------|--------|------|
| å“åº”å»¶è¿Ÿ | æ¯æ¬¡ RPC | ç¼“å­˜è®¿é—® | â¬‡ï¸ 99% |
| ä¸Šé“¾æˆåŠŸç‡ | å•æ¸ é“ | RPC+Jito | â¬†ï¸ 30-50% |
| ä»£ç å¯ç»´æŠ¤æ€§ | 1824 è¡Œ | 5 æ¨¡å— | â¬†ï¸ 200% |
| æ—¶æœºç²¾ç¡®åº¦ | åŸºäºæ—¶é—´ | Slot ç²¾åº¦ | â¬†ï¸ 400ms |

è¯¦è§ [OPTIMIZATION_GUIDE.md](./OPTIMIZATION_GUIDE.md)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é…ç½®ä¾èµ–

ä¿®æ”¹ `Cargo.toml`ï¼Œè®¾ç½® ore-api ä¾èµ–ï¼š

```toml
# æ–¹å¼1ï¼šæœ¬åœ°è·¯å¾„
ore-api = { path = "../ore/api" }

# æ–¹å¼2ï¼šGit ä»“åº“
ore-api = { git = "https://github.com/regolith-labs/ore" }
```

### 2. æ„å»º

```bash
cargo build --release
```

### 3. ä½¿ç”¨

#### æŸ¥çœ‹ä½™é¢
```bash
./target/release/ore-test2-optimized \
  --rpc YOUR_RPC_URL \
  --keypair YOUR_KEYPAIR_PATH \
  balance
```

#### è‡ªåŠ¨æŒ–çŸ¿ï¼ˆé˜ˆå€¼ç®—æ³•ï¼‰
```bash
./target/release/ore-test2-optimized \
  --rpc YOUR_RPC_URL \
  --keypair YOUR_KEYPAIR_PATH \
  auto-threshold \
  --amount-sol 0.01 \
  --threshold-sol 0.01 \
  --min-squares 12 \
  --pick-squares 5
```

#### è‡ªåŠ¨æŒ–çŸ¿ï¼ˆæœ€ä¼˜åŒ–ç®—æ³•ï¼‰
```bash
./target/release/ore-test2-optimized \
  --rpc YOUR_RPC_URL \
  --keypair YOUR_KEYPAIR_PATH \
  auto-optimized \
  --amount-sol 0.01 \
  --min-squares 12 \
  --pick-squares 5
```

## ğŸ“– å‘½ä»¤å‚è€ƒ

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `balance` | æŸ¥çœ‹è´¦æˆ·ä½™é¢ |
| `status` | æŸ¥çœ‹æŒ–çŸ¿çŠ¶æ€ |
| `claim` | é¢†å–å¥–åŠ± |
| `board` | æŸ¥çœ‹ Board ä¿¡æ¯ |
| `miner` | æŸ¥çœ‹ Miner ä¿¡æ¯ |
| `auto-threshold` | è‡ªåŠ¨æŒ–çŸ¿ï¼ˆé˜ˆå€¼ç®—æ³•ï¼‰ |
| `auto-optimized` | è‡ªåŠ¨æŒ–çŸ¿ï¼ˆæœ€ä¼˜åŒ–ç®—æ³•ï¼‰ |

## ğŸ“ å‚æ•°è¯´æ˜

### auto-threshold å‚æ•°

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | æ¨èèŒƒå›´ |
|------|------|--------|---------|
| `--amount-sol` | æ¯æ ¼éƒ¨ç½² SOL | 0.01 | 0.01-0.05 |
| `--threshold-sol` | SOL é˜ˆå€¼ | 0.01 | 0.01-0.02 |
| `--min-squares` | æœ€å°‘æ ¼å­æ•° | 12 | 10-15 |
| `--pick-squares` | é€‰æ‹©æ ¼å­æ•° | 5 | 3-8 |
| `--remaining-slots` | å‰©ä½™ slot é˜ˆå€¼ | 15 | 10-20 |

### auto-optimized å‚æ•°

æœ€ä¼˜åŒ–ç®—æ³•è‡ªåŠ¨è®¡ç®—é˜ˆå€¼ï¼š`(æ€»éƒ¨ç½² * 0.036) - 0.005`

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ | æ¨èèŒƒå›´ |
|------|------|--------|---------|
| `--amount-sol` | æ¯æ ¼éƒ¨ç½² SOL | 0.01 | 0.01-0.05 |
| `--min-squares` | æœ€å°‘æ ¼å­æ•° | 12 | 10-15 |
| `--pick-squares` | é€‰æ‹©æ ¼å­æ•° | 5 | 3-8 |
| `--remaining-slots` | å‰©ä½™ slot é˜ˆå€¼ | 15 | 10-20 |

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
ore_test2/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs         # ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ utils.rs        # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ jito.rs         # Jito é›†æˆ
â”‚   â”œâ”€â”€ price.rs        # ä»·æ ¼ç›‘æ§
â”‚   â””â”€â”€ monitor.rs      # å®æ—¶ç›‘æ§
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ README.md
â””â”€â”€ OPTIMIZATION_GUIDE.md
```

## ğŸ¯ æ ¸å¿ƒæ¨¡å—

### monitor.rs - å®æ—¶ç›‘æ§ç³»ç»Ÿ
- å¼‚æ­¥æ›´æ–° Boardã€Clockã€Minerã€Round
- çŠ¶æ€å¿«ç…§æœºåˆ¶
- æ™ºèƒ½æ—¶æœºåˆ¤æ–­

### jito.rs - Jito é›†æˆ
- Bundle å‘é€
- 5 ä¸ªåŒºåŸŸç«¯ç‚¹éšæœºé€‰æ‹©
- å°è´¹æŒ‡ä»¤æ„å»º

### price.rs - ä»·æ ¼ç›‘æ§
- Jupiter API é›†æˆ
- ORE/SOL å®æ—¶ä»·æ ¼
- å¸¦é‡è¯•æœºåˆ¶

### utils.rs - å·¥å…·å‡½æ•°
- é“¾ä¸Šæ•°æ®è¯»å–
- äº¤æ˜“æ¨¡æ‹Ÿä¸æäº¤
- æŒ‡æ•°é€€é¿é‡è¯•

## ğŸ” æŠ€æœ¯äº®ç‚¹

### 1. å®æ—¶ç›‘æ§ç³»ç»Ÿ
```rust
let monitor = Monitor::new(&rpc, &payer).await?;
Monitor::start_all(...).await?;

// æ— ç½‘ç»œå¼€é”€ï¼Œå³æ—¶è®¿é—®
let snapshot = monitor.get_snapshot().await;
```

### 2. åŒæ¸ é“æäº¤
```rust
// RPC åŒæ­¥æäº¤
submit_via_rpc().await?;

// Jito å¼‚æ­¥æäº¤
tokio::spawn(send_via_jito());
```

### 3. Slot ç²¾ç¡®æ§åˆ¶
```rust
if snapshot.slots_remaining() <= threshold {
    deploy(); // ç²¾ç¡®åˆ° ~400ms
}
```

## ğŸ“Š æ€§èƒ½æ•°æ®

- **å“åº”å»¶è¿Ÿ**: â¬‡ï¸ 99%ï¼ˆç¼“å­˜è®¿é—® vs RPCï¼‰
- **ä¸Šé“¾æˆåŠŸç‡**: â¬†ï¸ 30-50%ï¼ˆåŒæ¸ é“ï¼‰
- **æ—¶æœºç²¾åº¦**: 400msï¼ˆSlot æ§åˆ¶ï¼‰
- **é”™è¯¯æ¢å¤**: â¬†ï¸ 50%ï¼ˆæŒ‡æ•°é€€é¿ï¼‰

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®ä¼˜åŒ–æ€è·¯å‚è€ƒè‡ª **ore_refined**ï¼Œæ„Ÿè°¢å…¶ä¼˜ç§€çš„è®¾è®¡ï¼š
- æ¨¡å—åŒ–æ¶æ„
- å®æ—¶ç›‘æ§ç³»ç»Ÿ
- åŒæ¸ é“æäº¤
- Jito é›†æˆ
- æ™ºèƒ½æ—¶æœºæ§åˆ¶

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 - å…¨é¢ä¼˜åŒ–
- âœ¨ å¼•å…¥æ¨¡å—åŒ–æ¶æ„
- âœ¨ æ·»åŠ å®æ—¶ç›‘æ§ç³»ç»Ÿ
- âœ¨ é›†æˆ Jito Bundle æäº¤
- âœ¨ æ·»åŠ ä»·æ ¼ç›‘æ§
- âœ¨ ä¼˜åŒ–æ—¶æœºæ§åˆ¶
- âœ¨ æ”¹è¿›é”™è¯¯å¤„ç†
- âœ¨ å‡çº§æ—¥å¿—ç³»ç»Ÿ

### v1.0.0 - åŸå§‹ç‰ˆæœ¬
- åŸºç¡€è‡ªåŠ¨æŒ–çŸ¿åŠŸèƒ½

## ğŸ“„ License

MIT

---

**ä¼˜åŒ–ç‰ˆæœ¬ - æ›´å¿«ã€æ›´ç¨³ã€æ›´å¼ºï¼** ğŸ‰
